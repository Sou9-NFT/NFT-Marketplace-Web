{% extends 'base.html.twig' %}

{% block body %}
    <!-- ***** Profile Area Start ***** -->
    <section class="author-area">
        <div class="container">
            <div class="row justify-content-between">
                <div class="col-12 col-md-4">
                    <!-- Author Profile -->
                    <div class="card no-hover text-center">
                        <div class="image-over">
                            <img class="card-img-top" src="{{ asset('assets/img/content/auction_2.jpg') }}" alt="">                            <!-- Author -->
                            <div class="author">                                <div class="author-thumb avatar-lg">                                    {% if user.profilePicture and (user.profilePicture starts with 'http://' or user.profilePicture starts with 'https://') %}
                                        <img class="rounded-circle" src="{{ user.profilePicture }}" alt="" referrerpolicy="no-referrer" onerror="this.onerror=null; this.src='{{ asset('front_office/img/default_user_pfp.jpg') }}';">
                                    {% else %}
                                        <img class="rounded-circle" src="{{ user.profilePicture ? asset('uploads/profile_pictures/' ~ user.profilePicture) : asset('front_office/img/default_user_pfp.jpg') }}" alt="">
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <!-- Card Caption -->
                        <div class="card-caption col-12 p-0">
                            <!-- Card Body -->
                            <div class="card-body mt-4">
                                <h5 class="mb-3">{{ user.name }}</h5>
                                <p class="my-3">{{ user.email }}</p>
                                <div class="input-group">
                                    <input type="text" class="form-control" value="{{ user.id }}" readonly>
                                    <div class="input-group-append">
                                        <button><i class="icon-docs"></i></button>
                                    </div>
                                </div>
                                <!-- Social Icons -->
                                <div class="social-icons d-flex justify-content-center my-3">
                                    <a class="facebook" href="#">
                                        <i class="fab fa-facebook-f"></i>
                                        <i class="fab fa-facebook-f"></i>
                                    </a>
                                    <a class="twitter" href="#">
                                        <i class="fab fa-twitter"></i>
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                    <a class="google-plus" href="#">
                                        <i class="fab fa-google-plus-g"></i>
                                        <i class="fab fa-google-plus-g"></i>
                                    </a>
                                    <a class="vine" href="#">
                                        <i class="fab fa-vine"></i>
                                        <i class="fab fa-vine"></i>
                                    </a>
                                </div>
                                <a class="btn btn-bordered-white btn-smaller" href="#">Follow</a>
                                <a class="btn btn-primary mt-3" href="{{ path('app_user_edit', {'id': user.id}) }}">Edit Profile</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-7">
                    <!-- Intro -->
                    <div class="intro mt-5 mt-lg-0 mb-4 mb-lg-5">
                        <div class="intro-content">
                            <span>Edit Profile</span>
                            <h3 class="mt-3 mb-0">Update Your Information</h3>
                        </div>
                    </div>
                    <!-- Profile Form -->
                    {{ form_start(form) }}
                    <div class="row">
                        <div class="col-12">
                            <div class="input-group form-group">
                                <div class="custom-file">
                                    {{ form_widget(form.profilePicture, {'attr': {'class': 'custom-file-input'}}) }}
                                    <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                                </div>
                                {{ form_errors(form.profilePicture) }}
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group mt-3">
                                {{ form_widget(form.name, {'attr': {'class': 'form-control', 'placeholder': 'Name'}}) }}
                                {{ form_errors(form.name) }}
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group">
                                {{ form_widget(form.email, {'attr': {'class': 'form-control', 'placeholder': 'Email'}}) }}
                                {{ form_errors(form.email) }}
                            </div>
                        </div>
                        <div class="col-12">
                            <button class="btn w-100 mt-3 mt-sm-4" type="submit">Update Profile</button>
                        </div>
                    </div>
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Profile Area End ***** -->
{% endblock %}